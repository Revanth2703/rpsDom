<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RockPaperScissor</title>
  </head>
  <body>
    <button id="rock">rock</button>
    <button id="paper">paper</button>
    <button id="scissor">scissors</button> <br />
    <br />
    <button id="reset">Reset</button><br />
    <br />
    <div id="container"></div>
    <br />
    <br />
    <div id="winner"></div>
    <script>
              let pS;
      let cS = getComputerChoice();
      let tie = 0;
      let comp = 0;
      let player = 0;


      //Computer choice

      function getComputerChoice() {
        let random = Math.floor(Math.random() * 3);
        if (random == 0) {
          return "rock";
        } else if (random == 1) {
          return "paper";
        } else {
          return "scissors";
        }
      }


      const roc = document.querySelector("#rock");
      const pap = document.querySelector("#paper");
      const sci = document.querySelector("#scissor");
      const res = document.querySelector("#reset");

      const container = document.querySelector("#container")

      const winner = document.querySelector("#winner")


      roc.addEventListener('click',(event) => {
          pS = "rock";
          cS = getComputerChoice();
          playRound(pS,cS);

      });

      pap.addEventListener("click",()=>{
        pS = "paper";
        cS = getComputerChoice();
        playRound(pS,cS);
      });


      sci.addEventListener("click",()=>{
        pS = "scissor";
        cS = getComputerChoice();
        playRound(pS,cS);
      });

      res.addEventListener("click",()=>{
        tie = 0;
        comp = 0;
        player = 0;
        location.reload();
      })




      function playRound(pS,cS) {
        if (pS == "rock" && cS == "rock") {
            tie++;
        } else if (pS == "rock" && cS == "paper") {
            comp++;
        } else if (pS == "rock" && cS == "scissors") {
            player++;
        } else if (pS == "paper" && cS == "paper") {
            tie++;
        } else if (pS == "scissors" && cS == "scissors") {
            tie++;
        } else if (pS == "paper" && cS == "rock") {
            player++;
        } else if (pS == "paper" && cS == "scissors") {
            comp++;
        } else if (pS == "scissors" && cS == "paper") {
            player++;
        } else {
            comp++;
        }

        if(player < 5 && comp < 5){
          if(player > comp){
            container.textContent="Player is the winner. Player : "+ player + " comp : "+ comp + " tie : "+tie;
          }else if(comp > player){
            container.textContent="Comp is the winner. Player : "+ player + " comp : "+ comp + " tie : "+tie;
          }else if(tie > comp > player) {
            container.textContent="It's a tie.  Player : "+ player + " comp : "+ comp + " tie : "+tie;
          }
        }else{
          winner.textContent = "The game is Over. The score is Player : " + player + " and Computer : "+ comp;

        }

      }
    </script>
  </body>
</html>
